{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\waves\\\\client\\\\src\\\\components\\\\dashboard\\\\admin\\\\products\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer, useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport DashboardLayout from 'components/hoc/dashboardLayout';\nimport ProductsTable from './productsTable';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { productsPaginate, removeProduct } from 'store/actions/product.actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultValues = {\n  keywords: '',\n  brand: [],\n  min: 0,\n  max: 5000,\n  frets: [],\n  page: 1\n};\n\nconst AdminProducts = props => {\n  _s();\n\n  const [showModal, setShowModal] = useState(false);\n  const [toRemove, setToRemove] = useState(null);\n  const products = useSelector(state => state.products);\n  const notifications = useSelector(state => state.notifications);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [searchValues, setSearchValues] = useReducer((state, newState) => ({ ...state,\n    ...newState\n  }), defaultValues);\n\n  const goToEdit = id => {\n    navigate(`/dashboard/admin/edit_product/${id}`);\n  };\n\n  const goToPage = page => {\n    setSearchValues({\n      page: page\n    });\n  };\n\n  const handleClose = () => {\n    setShowModal(false);\n  };\n\n  const handleOpen = id => {\n    setToRemove(id);\n    setShowModal(true);\n  };\n\n  const handleRemove = () => {\n    dispatch(productRemove(toRemove));\n  };\n\n  useEffect(() => {\n    dispatch(productsPaginate(searchValues));\n  }, [dispatch, searchValues]);\n  useEffect(() => {\n    handleClose();\n    setToRemove(null);\n\n    if (notifications && notifications.removed) {\n      dispatch(productsPaginate(searchValues));\n    }\n  }, [notifications, dispatch]);\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    title: \"Products\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products_table\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProductsTable, {\n        showModal: showModal,\n        prods: products.byPaginate,\n        prevPage: page => goToPage(page),\n        nextPage: page => goToPage(page),\n        editProd: id => goToEdit(id),\n        closeModal: () => handleClose(),\n        openModal: id => handleOpen(id),\n        removeProd: () => handleRemove()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AdminProducts, \"jFPPEuQmcigIk2kf0jwYVnBMRcY=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate];\n});\n\n_c = AdminProducts;\nexport default AdminProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminProducts\");","map":{"version":3,"sources":["C:/React/waves/client/src/components/dashboard/admin/products/index.js"],"names":["React","useEffect","useReducer","useState","useNavigate","DashboardLayout","ProductsTable","useDispatch","useSelector","productsPaginate","removeProduct","defaultValues","keywords","brand","min","max","frets","page","AdminProducts","props","showModal","setShowModal","toRemove","setToRemove","products","state","notifications","dispatch","navigate","searchValues","setSearchValues","newState","goToEdit","id","goToPage","handleClose","handleOpen","handleRemove","productRemove","removed","byPaginate"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer, useState } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport DashboardLayout from 'components/hoc/dashboardLayout';\r\nimport ProductsTable from './productsTable';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { productsPaginate, removeProduct } from 'store/actions/product.actions';\r\n\r\nconst defaultValues = { keywords: '', brand: [], min: 0, max: 5000, frets: [], page: 1 };\r\n\r\nconst AdminProducts = (props) => {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [toRemove, setToRemove] = useState(null);\r\n\r\n    const products = useSelector(state => state.products);\r\n    const notifications = useSelector(state => state.notifications);\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    const [searchValues, setSearchValues] = useReducer(\r\n        (state, newState) => ({ ...state, ...newState }),\r\n        defaultValues \r\n    )\r\n    \r\n    const goToEdit = (id) => {\r\n        navigate(`/dashboard/admin/edit_product/${id}`);\r\n    }\r\n\r\n    const goToPage = (page) => {\r\n        setSearchValues({ page: page });\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setShowModal(false);\r\n    }\r\n\r\n    const handleOpen = (id) => {\r\n        setToRemove(id);\r\n        setShowModal(true);\r\n    }\r\n\r\n    const handleRemove = () => {\r\n        dispatch(productRemove(toRemove));\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(productsPaginate(searchValues));\r\n    }, [dispatch, searchValues]);\r\n\r\n    useEffect(() => {\r\n        handleClose();\r\n        setToRemove(null);\r\n\r\n        if(notifications && notifications.removed) {\r\n            dispatch(productsPaginate(searchValues));\r\n        }\r\n\r\n    }, [notifications, dispatch])\r\n\r\n    return(\r\n        <DashboardLayout title=\"Products\">\r\n            <div className='products_table'>\r\n                <div>search</div>\r\n                <hr />\r\n                <ProductsTable\r\n                    showModal={showModal}\r\n                    prods={products.byPaginate}\r\n                    prevPage={(page) => goToPage(page)}\r\n                    nextPage={(page) => goToPage(page)}\r\n                    editProd={(id) => goToEdit(id)}\r\n                    closeModal={() => handleClose()}\r\n                    openModal={(id) => handleOpen(id)}\r\n                    removeProd={() => handleRemove()}\r\n                />\r\n            </div>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n\r\nexport default AdminProducts;"]},"metadata":{},"sourceType":"module"}