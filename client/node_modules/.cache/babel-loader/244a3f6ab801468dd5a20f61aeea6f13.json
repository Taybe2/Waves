{"ast":null,"code":"import axios from \"axios\";\nimport * as actions from './index';\nimport { getAuthHeader, removeTokenCookie, getTokenCookie } from \"utils/tools\";\naxios.defaults.headers.post['Content-Type'] = 'application-json';\nexport const productsBySort = _ref => {\n  let {\n    limit,\n    sortBy,\n    order\n  } = _ref;\n  return async dispatch => {\n    try {\n      const products = await axios.get('api/products/all', {\n        params: {\n          limit,\n          sortBy,\n          order\n        }\n      });\n\n      switch (sortBy) {\n        case 'itemSold':\n          dispatch(actions.productsBySold(products.data));\n          break;\n\n        case 'date':\n          dispatch(actions.productsByDate(products.data));\n          break;\n\n        default:\n          return false;\n      }\n    } catch (error) {\n      dispatch(actions.errorGlobal('Sorry something happened, try again later'));\n    }\n  };\n};\nexport const productsPaginate = args => {\n  return async dispatch => {\n    try {\n      const products = await axios.post(`/api/products/paginate/all`, args);\n      dispatch(actions.productsPaginate(products.data));\n    } catch (error) {\n      dispatch(actions.errorGlobal(error.response.data.message));\n    }\n  };\n};\nexport const removeProduct = id => {\n  return async dispatch => {\n    try {\n      const products = await axios.delete(`/api/products/product/${id}`, getAuthHeader());\n      dispatch(actions.productRemove());\n      dispatch(actions.successGlobal());\n    } catch (error) {\n      dispatch(actions.errorGlobal(error.response.data.message));\n    }\n  };\n};","map":{"version":3,"sources":["C:/React/waves/client/src/store/actions/product.actions.js"],"names":["axios","actions","getAuthHeader","removeTokenCookie","getTokenCookie","defaults","headers","post","productsBySort","limit","sortBy","order","dispatch","products","get","params","productsBySold","data","productsByDate","error","errorGlobal","productsPaginate","args","response","message","removeProduct","id","delete","productRemove","successGlobal"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,SAAzB;AAEA,SAASC,aAAT,EAAwBC,iBAAxB,EAA2CC,cAA3C,QAAiE,aAAjE;AAEAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA8C,kBAA9C;AAEA,OAAO,MAAMC,cAAc,GAAG,QAA8B;AAAA,MAA7B;AAAEC,IAAAA,KAAF;AAASC,IAAAA,MAAT;AAAiBC,IAAAA;AAAjB,GAA6B;AACxD,SAAO,MAAMC,QAAN,IAAmB;AACtB,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAU,kBAAV,EAA8B;AACjDC,QAAAA,MAAM,EAAE;AACJN,UAAAA,KADI;AAEJC,UAAAA,MAFI;AAGJC,UAAAA;AAHI;AADyC,OAA9B,CAAvB;;AAQA,cAAQD,MAAR;AACI,aAAK,UAAL;AACIE,UAAAA,QAAQ,CAACX,OAAO,CAACe,cAAR,CAAuBH,QAAQ,CAACI,IAAhC,CAAD,CAAR;AACA;;AACJ,aAAK,MAAL;AACIL,UAAAA,QAAQ,CAACX,OAAO,CAACiB,cAAR,CAAuBL,QAAQ,CAACI,IAAhC,CAAD,CAAR;AACA;;AACJ;AACI,iBAAO,KAAP;AARR;AAWH,KApBD,CAoBE,OAAME,KAAN,EAAa;AACXP,MAAAA,QAAQ,CAACX,OAAO,CAACmB,WAAR,CAAoB,2CAApB,CAAD,CAAR;AACH;AACJ,GAxBD;AAyBH,CA1BM;AA4BP,OAAO,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;AACtC,SAAO,MAAMV,QAAN,IAAmB;AACtB,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACO,IAAN,CAAY,4BAAZ,EAAyCe,IAAzC,CAAvB;AACAV,MAAAA,QAAQ,CAACX,OAAO,CAACoB,gBAAR,CAAyBR,QAAQ,CAACI,IAAlC,CAAD,CAAR;AACH,KAHD,CAGE,OAAME,KAAN,EAAa;AACXP,MAAAA,QAAQ,CAACX,OAAO,CAACmB,WAAR,CAAoBD,KAAK,CAACI,QAAN,CAAeN,IAAf,CAAoBO,OAAxC,CAAD,CAAR;AACH;AACJ,GAPD;AAQH,CATM;AAWP,OAAO,MAAMC,aAAa,GAAIC,EAAD,IAAQ;AACjC,SAAO,MAAMd,QAAN,IAAmB;AACtB,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMb,KAAK,CAAC2B,MAAN,CAAc,yBAAwBD,EAAG,EAAzC,EAA4CxB,aAAa,EAAzD,CAAvB;AACAU,MAAAA,QAAQ,CAACX,OAAO,CAAC2B,aAAR,EAAD,CAAR;AACAhB,MAAAA,QAAQ,CAACX,OAAO,CAAC4B,aAAR,EAAD,CAAR;AACH,KAJD,CAIE,OAAMV,KAAN,EAAa;AACXP,MAAAA,QAAQ,CAACX,OAAO,CAACmB,WAAR,CAAoBD,KAAK,CAACI,QAAN,CAAeN,IAAf,CAAoBO,OAAxC,CAAD,CAAR;AACH;AACJ,GARD;AASH,CAVM","sourcesContent":["import axios from \"axios\";\r\nimport * as actions from './index';\r\n\r\nimport { getAuthHeader, removeTokenCookie, getTokenCookie } from \"utils/tools\";\r\n\r\naxios.defaults.headers.post['Content-Type'] = 'application-json';\r\n\r\nexport const productsBySort = ({ limit, sortBy, order }) => {\r\n    return async(dispatch) => {\r\n        try {\r\n            const products = await axios.get('api/products/all', {\r\n                params: {\r\n                    limit,\r\n                    sortBy,\r\n                    order\r\n                }\r\n            });\r\n\r\n            switch (sortBy) {\r\n                case 'itemSold':\r\n                    dispatch(actions.productsBySold(products.data));\r\n                    break;\r\n                case 'date':\r\n                    dispatch(actions.productsByDate(products.data));\r\n                    break;\r\n                default:\r\n                    return false;\r\n            }\r\n\r\n        } catch(error) {\r\n            dispatch(actions.errorGlobal('Sorry something happened, try again later'));\r\n        }\r\n    }\r\n}\r\n\r\nexport const productsPaginate = (args) => {\r\n    return async(dispatch) => {\r\n        try {\r\n            const products = await axios.post(`/api/products/paginate/all`, args);\r\n            dispatch(actions.productsPaginate(products.data));\r\n        } catch(error) {\r\n            dispatch(actions.errorGlobal(error.response.data.message));\r\n        }\r\n    }\r\n}\r\n\r\nexport const removeProduct = (id) => {\r\n    return async(dispatch) => {\r\n        try {\r\n            const products = await axios.delete(`/api/products/product/${id}`, getAuthHeader());\r\n            dispatch(actions.productRemove());\r\n            dispatch(actions.successGlobal());\r\n        } catch(error) {\r\n            dispatch(actions.errorGlobal(error.response.data.message));\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}